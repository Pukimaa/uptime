{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","index.js"],"names":["App","$","get","data","forEach","element","length","append","fail","css","olddata","window","setInterval","html","statuscount","console","log","status","content","twemoji","parse","replaceAll","className","id","src","logo","alt","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8OAAe,MAA0B,iC,sCCMpBA,E,uKACnB,WACEC,IAAEC,IAAI,kBAAkB,SAASC,GAC/BA,EAAKC,SAAQ,SAASC,GAChBA,EAAO,UACLA,EAAO,KAASC,OAAS,EAC3BL,IAAE,aAAaM,OAAO,qDAA0DF,EAAO,KAAS,iDAAoDA,EAAO,KAAS,iBAEpKJ,IAAE,aAAaM,OAAO,qDAA0DF,EAAO,KAAS,uCAA0CA,EAAO,KAAS,iBAE5JJ,IAAEC,IAAIG,EAAO,KAAS,SAASF,OAAUK,MAAK,WAC5CP,IAAE,IAAII,EAAO,MAAUI,IAAI,aAAc,iBAKjD,IAAIC,EAAU,GACdC,OAAOC,aAAY,WACjBX,IAAEC,IAAI,6DAA6D,SAASC,GAC1E,GAAIA,IAASO,EAAS,CACpBT,IAAE,cAAcY,KAAK,IACrB,IAAIC,EAAc,EAClBC,QAAQC,IAAIb,GACZF,IAAE,cAAcM,OAAO,QACvBJ,EAAKC,SAAQ,SAAAa,GACX,GAAkC,sBAA9BA,EAAM,QAAN,KAAmD,CACrD,IAAIC,EAAUC,IAAQC,MAAMH,EAAM,SAClCA,EAAM,OAAWb,SAAQ,SAASC,GAChCa,EAAUA,EAAQG,WAAW,IAAIhB,EAAO,UAAc,IAAK,aAAcA,EAAO,IAAQ,yCAEtFY,EAAM,kBAAsBX,OAAS,GACvCW,EAAM,kBAAsBb,SAAQ,SAASC,GACnB,UAApBA,EAAO,OACTa,GAAW,YAAab,EAAO,IAAQ,+BAAmCA,EAAO,IAAQ,yCAEnE,SAApBA,EAAO,OACTa,GAAW,eAAgBb,EAAO,IAAQ,oFAIhDJ,IAAE,cAAcM,OAAO,OAAOU,EAAM,WAAe,KAAKC,EAAQ,SAASD,EAAM,QAAN,KAA0B,SACnGH,QAGJb,IAAE,cAAcM,OAAO,SACH,IAAhBO,GACFb,IAAE,cAAcY,KAAK,+CAEvBH,EAAUP,QAGb,O,oBAGL,WACE,OACE,sBAAKmB,UAAU,MAAf,UACE,iCACE,uBAAMC,GAAG,WAAT,UAAoB,qBAAKC,IAAKC,EAAMF,GAAG,OAAOG,IAAI,SAAlD,sBAEF,sBAAKH,GAAG,UAAR,UACE,qBAAKA,GAAG,aAER,kDACA,qBAAKA,GAAG,wB,GAhEeI,IAAMC,WCMxBC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.86e8a312.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.b9477e6f.svg\";","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport twemoji from 'twemoji';\nimport $ from 'jquery';\n\nexport default class App extends React.Component {\n  componentDidMount() {\n    $.get(\"/monitors.json\", function(data) {\n      data.forEach(function(element) {\n        if (element[\"enabled\"]) {\n          if (element[\"name\"].length > 5) {\n            $(\"#statuses\").append(\"<div class=\\\"status-item\\\"><span class=\\\"online\\\" id=\\\"\"+element[\"name\"]+\"\\\"></span> <span class=\\\"servicename long-name\\\">\"+element[\"name\"]+\"</span></div>\");\n          } else {\n            $(\"#statuses\").append(\"<div class=\\\"status-item\\\"><span class=\\\"online\\\" id=\\\"\"+element[\"name\"]+\"\\\"></span> <span class=\\\"servicename\\\">\"+element[\"name\"]+\"</span></div>\");\n          }\n          $.get(element[\"url\"], function(data) {}).fail(function() {\n            $(\"#\"+element[\"name\"]).css(\"background\", \"red\");\n          });\n        }\n      });\n    });\n    var olddata = \"\";\n    window.setInterval(function() {\n      $.get(\"https://mastodon.social/api/v1/timelines/tag/pukimastatus\", function(data) {\n        if (data !== olddata) {\n          $(\"#incidents\").html(\"\");\n          var statuscount = 0;\n          console.log(data);\n          $(\"#incidents\").append(\"<ul>\")\n          data.forEach(status => {\n            if (status[\"account\"][\"acct\"] === \"pukima@koyu.space\") {\n              var content = twemoji.parse(status[\"content\"]);\n              status[\"emojis\"].forEach(function(element) {\n                content = content.replaceAll(\":\"+element[\"shortcode\"]+\":\", \"<img src=\\\"\"+element[\"url\"]+\"\\\" class=\\\"emoji\\\" draggable=\\\"false\\\">\");\n              });\n              if (status[\"media_attachments\"].length > 0) {\n                status[\"media_attachments\"].forEach(function(element) {\n                  if (element[\"type\"] === \"image\") {\n                    content += \"<a href=\\\"\"+element[\"url\"]+\"\\\" target=\\\"_blank\\\"><img src=\\\"\"+element[\"url\"]+\"\\\" width=\\\"200\\\" class=\\\"attachment\\\"></a>\";\n                  }\n                  if (element[\"type\"] === \"gifv\") {\n                    content += \"<video src=\\\"\"+element[\"url\"]+\"\\\" width=\\\"200\\\" class=\\\"attachment\\\" controls preload autoplay loop mute></video>\";\n                  }\n                });\n              }\n              $(\"#incidents\").append(\"<li>\"+status[\"created_at\"]+\": \"+content+\"<br>~@\"+status[\"account\"][\"acct\"]+\"</li>\");\n              statuscount++;\n            }\n          });\n          $(\"#incidents\").append(\"</ul>\");\n          if (statuscount === 0) {\n            $(\"#incidents\").html(\"<p class=\\\"error\\\">Nothing to see here...</p>\")\n          }\n          olddata = data;\n        }\n      });\n    }, 3000);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header>\n          <span id=\"logofont\"><img src={logo} id=\"logo\" alt=\"Logo\" /> Pukima Status</span>\n        </header>\n        <div id=\"content\">\n          <div id=\"statuses\">\n          </div>\n          <h2>Incident history</h2>\n          <div id=\"incidents\"></div>\n          </div>\n      </div>\n    );\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}